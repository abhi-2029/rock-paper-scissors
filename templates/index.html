<!DOCTYPE html>
<html>
<head>
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="container">
    <h1>Rock Paper Scissors</h1>

    <div class="score">
        Player: <span id="player-score">0</span> |
        Computer: <span id="computer-score">0</span>
    </div>

    <div class="buttons">
        <img src="/static/images/rock.png" onclick="play('rock')">
        <img src="/static/images/paper.png" onclick="play('paper')">
        <img src="/static/images/scissors.png" onclick="play('scissors')">
    </div>

    <div id="result"></div>

    <div class="footer">
        Click an icon to play
    </div>
</div>

<script>
function play(choice) {
    fetch("/play", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({choice: choice})
    })
    .then(res => res.json())
    .then(data => {
        document.getElementById("player-score").innerText = data.score.player;
        document.getElementById("computer-score").innerText = data.score.computer;

        let sound = new Audio(`/static/sounds/${data.result}.wav`);
        sound.play();

        document.getElementById("result").innerText =
            `You chose ${data.player.toUpperCase()} | Computer chose ${data.computer.toUpperCase()} â†’ ${data.result.toUpperCase()}`;
    });
}
</script>

</body>
</html>
